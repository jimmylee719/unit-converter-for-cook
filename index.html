<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>餐飲單位換算小幫手 - Culinary Unit Conversion Helper</title>
    <meta name="description" content="專為廚師與美食愛好者設計的餐飲單位換算工具，支援重量、容量、溫度即時雙向換算。A fast and intuitive unit converter for chefs and home cooks. Real-time conversion for weight, volume, and temperature.">
    <meta name="keywords" content="culinary conversion, cooking converter, unit converter, baking conversion, 單位換算, 烹飪換算, 烘焙換算, 食譜換算, 公克, 盎司, 湯匙, 茶匙">

    <!-- SEO: JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "餐飲單位換算小幫手 - Culinary Unit Conversion Helper",
      "description": "A real-time unit conversion tool for culinary professionals and home cooks, supporting weight, volume, temperature, and more in both Traditional Chinese and English.",
      "applicationCategory": "Utilities",
      "operatingSystem": "All",
      "browserRequirements": "Requires HTML5 and JavaScript",
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>
    
    <!-- CSS 樣式 -->
    <style>
        /* CSS 變數，方便統一管理顏色與字體 */
        :root {
            --bg-color: #f8f9fa; /* 頁面背景色 */
            --card-bg-color: #ffffff; /* 卡片背景色 */
            --text-color: #212529; /* 主要文字顏色 */
            --secondary-text-color: #6c757d; /* 次要文字顏色 */
            --accent-color: #007bff; /* 強調色，如邊框、焦點 */
            --border-color: #dee2e6; /* 邊框顏色 */
            --shadow-color: rgba(0, 0, 0, 0.05); /* 陰影顏色 */
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; /* 使用系統預設字體，現代且高效 */
        }

        /* 基本頁面設定 (Mobile-First) */
        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* 主要容器 */
        .container {
            width: 100%;
            max-width: 600px; /* 在大螢幕上限制最大寬度，避免內容拉太開 */
            flex-grow: 1;
        }

        /* 頁首 */
        header {
            text-align: center;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2rem;
            margin: 0;
        }

        header h2 {
            font-size: 1.2rem;
            font-weight: 400;
            color: var(--secondary-text-color);
            margin: 5px 0 0 0;
        }

        /* 換算器主卡片 */
        main {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px var(--shadow-color);
            border: 1px solid var(--border-color);
        }

        /* 每一組換算列 (包含輸入框和下拉選單) */
        .converter-row {
            display: flex;
            gap: 15px; /* 元素之間的間距 */
        }

        .converter-row input {
            flex: 1; /* 讓輸入框佔據更多空間 */
            min-width: 0; /* 解決 flex item 壓縮問題 */
        }
        
        .converter-row select {
            flex: 1;
        }

        /* 輸入框和下拉選單的通用樣式 */
        input[type="number"], select {
            width: 100%;
            padding: 12px 15px;
            font-size: 1.1rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: #fff;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
        }
        
        /* 移除 number input 預設的上下箭頭 (在某些瀏覽器) */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
          -webkit-appearance: none; 
          margin: 0; 
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* 中間的交換圖示區域 */
        .swap-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 15px 0;
            gap: 20px; /* 新增：按鈕之間的間距 */
        }

        #swap-button, #reset-button { /* 新增：讓重設按鈕樣式與交換按鈕一致 */
            background: none;
            border: 1px solid var(--border-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s, transform 0.2s;
            color: var(--secondary-text-color);
        }
        
        #swap-button:hover, #reset-button:hover { /* 新增：hover 效果 */
            background-color: var(--bg-color);
        }

        #swap-button:active {
            transform: scale(0.95) rotate(180deg);
        }

        #reset-button:active { /* 新增：讓重設按鈕也有下壓與旋轉的動畫 */
            transform: scale(0.95) rotate(-180deg);
        }
        
        #swap-button svg {
            transform: rotate(90deg); /* 將左右箭頭旋轉90度變為上下箭頭 */
        }
        
        /* Google Ad 廣告容器 */
        #google-ad-container {
            width: 100%;
            min-height: 50px;
            max-height: 90px;
            margin-top: 30px;
            border: 1px dashed var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-text-color);
            background-color: #f1f1f1;
            border-radius: 8px;
            box-sizing: border-box;
        }

        /* 頁尾 */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-bottom: 20px;
            color: var(--secondary-text-color);
            font-size: 0.9rem;
        }
        
        /* 響應式設計：當螢幕寬度大於 768px (平板和電腦) */
        @media (min-width: 768px) {
            header h1 {
                font-size: 2.5rem;
            }
            main {
                padding: 40px;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- 1. 頁首區 -->
        <header>
            <h1>餐飲單位換算小幫手</h1>
            <h2>Culinary Unit Conversion Helper</h2>
        </header>

        <!-- 2. 主要換算器介面 -->
        <main>
            <section aria-label="Converter A">
                <div class="converter-row">
                    <input type="number" id="inputA" value="1" aria-label="輸入 A">
                    <select id="selectA" aria-label="單位 A"></select>
                </div>
            </section>
            
            <div class="swap-container">
                <button id="swap-button" title="交換單位 (Swap Units)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147-3.146a.5.5 0 1 1-.708-.708l-4 4a.5.5 0 0 1 0 .708l4 4a.5.5 0 1 1 .708-.708L2.707 5.5H14.5a.5.5 0 0 1 .5-.5"/>
                    </svg>
                </button>
                <!-- 新增的重設按鈕 -->
                <button id="reset-button" title="清除重設 (Clear & Reset)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                      <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                    </svg>
                </button>
            </div>

            <section aria-label="Converter B">
                <div class="converter-row">
                    <input type="number" id="inputB" aria-label="輸入 B">
                    <select id="selectB" aria-label="單位 B"></select>
                </div>
            </section>
        </main>

        <!-- 3. Google Ad 廣告置放區 -->
        <div id="google-ad-container">
            Google Ad Placeholder
        </div>

    </div>

    <!-- 4. 頁尾區 -->
    <footer>
        &copy; 2025 餐飲單位換算小幫手 - Culinary Unit Conversion Helper. All rights reserved.
    </footer>

    <!-- JavaScript 邏輯 -->
    <script>
        // --- 程式碼開始 ---

        // 1. 定義所有單位的換算基準
        // 我將所有單位都換算成一個共同的「基礎單位」，方便計算。
        // 重量 -> 公克 (g)
        // 容量 -> 毫升 (ml)
        // 溫度 -> 攝氏 (°C)
        // 能量 -> 卡路里 (kcal)
        // 長度 -> 公分 (cm)
        const units = {
            weight: {
                label: '重量 (Weight)',
                conversions: {
                    'g': { name: '公克 (g)', toBase: val => val, fromBase: val => val },
                    'kg': { name: '公斤 (kg)', toBase: val => val * 1000, fromBase: val => val / 1000 },
                    'mg': { name: '毫克 (mg)', toBase: val => val / 1000, fromBase: val => val * 1000 },
                    'oz': { name: '盎司 (oz)', toBase: val => val * 28.3495, fromBase: val => val / 28.3495 },
                    'lb': { name: '磅 (lb)', toBase: val => val * 453.592, fromBase: val => val / 453.592 },
                    'twn_catty': { name: '台斤 (Taiwan Catty)', toBase: val => val * 600, fromBase: val => val / 600 },
                    'tael': { name: '兩 (Tael)', toBase: val => val * 37.5, fromBase: val => val / 37.5 },
                    'qian': { name: '錢 (Qian)', toBase: val => val * 3.75, fromBase: val => val / 3.75 },
                }
            },
            volume: {
                label: '容量 (Volume)',
                conversions: {
                    'ml': { name: '毫升 (ml)', toBase: val => val, fromBase: val => val },
                    'cc': { name: '立方公分 (cc)', toBase: val => val, fromBase: val => val },
                    'L': { name: '公升 (L)', toBase: val => val * 1000, fromBase: val => val / 1000 },
                    'tsp_us': { name: '茶匙 (tsp, US)', toBase: val => val * 4.92892, fromBase: val => val / 4.92892 },
                    'tbsp_us': { name: '湯匙 (tbsp, US)', toBase: val => val * 14.7868, fromBase: val => val / 14.7868 },
                    'floz_us': { name: '液體盎司 (fl oz, US)', toBase: val => val * 29.5735, fromBase: val => val / 29.5735 },
                    'cup_us': { name: '杯 (cup, US)', toBase: val => val * 236.588, fromBase: val => val / 236.588 },
                    'pint_us': { name: '品脫 (pint, US)', toBase: val => val * 473.176, fromBase: val => val / 473.176 },
                    'quart_us': { name: '夸脫 (quart, US)', toBase: val => val * 946.353, fromBase: val => val / 946.353 },
                    'gallon_us': { name: '加侖 (gallon, US)', toBase: val => val * 3785.41, fromBase: val => val / 3785.41 },
                    'floz_uk': { name: '液體盎司 (fl oz, UK)', toBase: val => val * 28.4131, fromBase: val => val / 28.4131 },
                    'pint_uk': { name: '品脫 (pint, UK)', toBase: val => val * 568.261, fromBase: val => val / 568.261 },
                    'quart_uk': { name: '夸脫 (quart, UK)', toBase: val => val * 1136.52, fromBase: val => val / 1136.52 },
                    'gallon_uk': { name: '加侖 (gallon, UK)', toBase: val => val * 4546.09, fromBase: val => val / 4546.09 },
                    'cup_au': { name: '澳制杯 (cup, AU)', toBase: val => val * 250, fromBase: val => val / 250 },
                    'tbsp_au': { name: '澳制湯匙 (tbsp, AU)', toBase: val => val * 20, fromBase: val => val / 20 },
                }
            },
            temperature: {
                label: '溫度 (Temperature)',
                conversions: {
                    'c': { name: '攝氏 (°C)', toBase: val => val, fromBase: val => val },
                    'f': { name: '華氏 (°F)', toBase: val => (val - 32) * 5 / 9, fromBase: val => (val * 9 / 5) + 32 },
                }
            },
            energy: {
                label: '能量 (Energy)',
                conversions: {
                    'kcal': { name: '卡路里 (kcal)', toBase: val => val, fromBase: val => val },
                    'kj': { name: '千焦耳 (kJ)', toBase: val => val * 0.239006, fromBase: val => val / 0.239006 },
                }
            },
            length: {
                label: '長度 (Length)',
                conversions: {
                    'cm': { name: '公分 (cm)', toBase: val => val, fromBase: val => val },
                    'inch': { name: '英寸 (inch)', toBase: val => val * 2.54, fromBase: val => val / 2.54 },
                }
            }
        };

        // 2. 取得頁面上的 HTML 元素
        const inputA = document.getElementById('inputA');
        const selectA = document.getElementById('selectA');
        const inputB = document.getElementById('inputB');
        const selectB = document.getElementById('selectB');
        const swapButton = document.getElementById('swap-button');
        const resetButton = document.getElementById('reset-button'); // 新增：取得重設按鈕
        
        let lastActiveInput = inputA; // 追蹤最後一個被更動的輸入框

        // 3. 核心換算函式
        function calculate() {
            // 決定換算方向
            const sourceInput = lastActiveInput === inputA ? inputA : inputB;
            const sourceSelect = lastActiveInput === inputA ? selectA : selectB;
            const targetInput = lastActiveInput === inputA ? inputB : inputA;
            const targetSelect = lastActiveInput === inputA ? selectB : selectA;

            const val = parseFloat(sourceInput.value);
            if (isNaN(val)) {
                targetInput.value = '';
                return;
            }

            const unitFrom = sourceSelect.value;
            let unitTo = targetSelect.value;

            const categoryFrom = findCategory(unitFrom);
            let categoryTo = findCategory(unitTo);

            // 如果單位類別不同，自動將目標單位同步到來源單位所在的類別
            if (categoryFrom !== categoryTo) {
                const newCategoryUnits = Object.keys(units[categoryFrom].conversions);
                // 從新類別中選擇一個預設單位
                // 如果第一個單位和來源單位相同，就選擇第二個 (如果存在的話)
                let newTargetUnit = newCategoryUnits[0];
                if (newCategoryUnits.length > 1 && newTargetUnit === unitFrom) {
                    newTargetUnit = newCategoryUnits[1];
                }
                targetSelect.value = newTargetUnit;
                // 為本次計算更新目標單位及其類別
                unitTo = newTargetUnit;
            }

            const categoryData = units[categoryFrom];
            
            // 步驟 1: 將來源數值換算成「基礎單位」
            const baseValue = categoryData.conversions[unitFrom].toBase(val);
            
            // 步驟 2: 將「基礎單位」的數值換算成目標單位
            const targetValue = categoryData.conversions[unitTo].fromBase(baseValue);
            
            // 顯示結果，並處理小數點，最多保留5位
            targetInput.value = parseFloat(targetValue.toFixed(5));
        }

        // 輔助函式：根據單位 key (如'kg') 找到其所屬的類別 (如'weight')
        function findCategory(unitKey) {
            for (const category in units) {
                if (units[category].conversions[unitKey]) {
                    return category;
                }
            }
            return null;
        }

        // 4. 動態生成下拉選單內容
        function populateSelects() {
            [selectA, selectB].forEach(selectElement => {
                selectElement.innerHTML = '';
                for (const category in units) {
                    const optgroup = document.createElement('optgroup');
                    optgroup.label = units[category].label;
                    for (const unitKey in units[category].conversions) {
                        const option = document.createElement('option');
                        option.value = unitKey;
                        option.textContent = units[category].conversions[unitKey].name;
                        optgroup.appendChild(option);
                    }
                    selectElement.appendChild(optgroup);
                }
            });
        }
        
        // 交換單位的功能
        function swapUnits() {
            const tempSelectValue = selectA.value;
            selectA.value = selectB.value;
            selectB.value = tempSelectValue;
            
            // 交換後，以 A 為基準重新計算
            lastActiveInput = inputA;
            calculate();
        }

        // 新增：重設換算器的功能
        function resetConverter() {
            inputA.value = '1';
            lastActiveInput = inputA;
            calculate();
        }

        // 5. 綁定事件監聽器
        inputA.addEventListener('input', () => {
            lastActiveInput = inputA;
            calculate();
        });
        inputB.addEventListener('input', () => {
            lastActiveInput = inputB;
            calculate();
        });
        selectA.addEventListener('change', () => {
            // 當 A 的單位改變，我們視 A 為換算來源，並觸發計算
            lastActiveInput = inputA;
            calculate();
        });
        selectB.addEventListener('change', () => {
            // 當 B 的單位改變，我們視 B 為換算來源，並觸發計算
            lastActiveInput = inputB;
            calculate();
        });
        swapButton.addEventListener('click', swapUnits);
        resetButton.addEventListener('click', resetConverter); // 新增：綁定點擊事件
        
        // 6. 頁面初始化函式
        function initialize() {
            populateSelects();
            // 設定預設單位
            selectA.value = 'oz';
            selectB.value = 'g';
            // 執行第一次換算
            calculate();
        }

        // 當 DOM 載入完成後，執行初始化
        document.addEventListener('DOMContentLoaded', initialize);

    </script>
</body>
</html>






